{
  // Default options
  'functions': true
}

$sprites: (
  {{#items}}
  {{name}}: (
    x: {{px.x}},
    y: {{px.y}},
    offset_x: {{px.offset_x}},
    offset_y: {{px.offset_y}},
    width: {{px.width}},
    height: {{px.height}},
    total_width: {{px.total_width}},
    total_height: {{px.total_height}},
    image: '{{{escaped_image}}}'
  ),
  {{/items}}
);

@function sprite($sprite, $attribute) {
  @return map-get(map-get($sprites, $sprite), $attribute),
}

@mixin sprite-width($sprite) {
  width: sprite($sprite, 'width');
}

@mixin sprite-height($sprite) {
  width: sprite($sprite, 'height');
}

@mixin sprite-position($sprite) {
  background-position: sprite($sprite, 'offset_x') sprite($sprite, 'offset_y');
}

@mixin sprite-image($sprite) {
  background-image: url(sprite($sprite, 'image'));
}

@mixin sprite($sprite) {
  @include sprite-image($sprite);
  @include sprite-position($sprite);
  @include sprite-width($sprite);
  @include sprite-height($sprite);
}
